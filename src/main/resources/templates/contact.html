<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - StyleLegacy</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/contact.css">
</head>
<body>
<!-- Navigation Bar -->
<div th:replace="fragments/header-navbar :: navbar"></div>

<!-- Hero Section -->
<section class="hero-contact d-flex align-items-center position-relative">
    <div class="floating-element" style="top: 20%; left: 10%;"></div>
    <div class="floating-element" style="top: 60%; right: 15%;"></div>
    <div class="container position-relative z-2">
        <div class="row align-items-center">
            <div class="col-lg-6 text-white">
                <h1 class="display-3 fw-bold mb-4">
                    Let's Connect
                </h1>
                <p class="lead mb-4 opacity-75">
                    Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible.
                </p>
                <div class="d-flex align-items-center mb-4">
                    <div class="bg-white bg-opacity-25 rounded-circle p-3 me-3">
                        <i class="fas fa-clock text-white fs-4"></i>
                    </div>
                    <div>
                        <h6 class="mb-1 fw-bold">Quick Response</h6>
                        <small class="opacity-75">Usually within 24 hours</small>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="position-relative">
                    <img src="https://images.unsplash.com/photo-1423666639041-f56000c27a9a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                         alt="Contact Us" class="img-fluid rounded-4 shadow-lg" style="border-radius: 20px;">
                    <div class="position-absolute top-0 start-0 w-100 h-100 bg-gradient rounded-4"
                         style="background: linear-gradient(45deg, rgba(102,126,234,0.3), rgba(118,75,162,0.3));"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Information Cards -->
<section class="py-5">
    <div class="container">
        <div class="contact-hero-card shadow-lg p-5">
            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="contact-info-card text-center fade-up">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt text-white fs-2"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Visit Our Store</h4>
                        <p class="text-muted mb-3">
                            123 Fashion Street<br>
                            Hoa Lac, Ha Noi<br>
                            Viet Nam
                        </p>
                        <a href="#map-section" class="btn btn-outline-primary rounded-pill">
                            <i class="fas fa-directions me-2"></i>Get Directions
                        </a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="contact-info-card text-center fade-up" style="animation-delay: 0.2s;">
                        <div class="contact-icon">
                            <i class="fas fa-phone text-white fs-2"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Call Us</h4>
                        <p class="text-muted mb-3">
                            Customer Service:<br>
                            <strong class="text-primary">+1 (555) 123-4567</strong><br>
                            Mon-Fri 9AM-6PM EST
                        </p>
                        <a href="tel:+15551234567" class="btn btn-outline-success rounded-pill">
                            <i class="fas fa-phone me-2"></i>Call Now
                        </a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="contact-info-card text-center fade-up" style="animation-delay: 0.4s;">
                        <div class="contact-icon">
                            <i class="fas fa-envelope text-white fs-2"></i>
                        </div>
                        <h4 class="fw-bold mb-3">Email Us</h4>
                        <p class="text-muted mb-3">
                            General Inquiries:<br>
                            <strong class="text-primary">info@stylelegacy.com</strong><br>
                            Support: support@stylelegacy.com
                        </p>
                        <a href="mailto:info@stylelegacy.com" class="btn btn-outline-info rounded-pill">
                            <i class="fas fa-envelope me-2"></i>Send Email
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="section-divider"></div>

<!-- Contact Form -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="text-center mb-5">
                    <h2 class="display-5 fw-bold mb-3">Send Us a Message</h2>
                    <p class="lead text-muted">Fill out the form below and we'll get back to you as soon as
                        possible.</p>
                </div>
                <div class="contact-form">
                    <form id="contactForm" class="needs-validation" novalidate th:action="@{/contact}" method="POST">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <label for="firstName" class="form-label fw-semibold">
                                    <i class="fas fa-user me-2 text-primary"></i>First Name *
                                </label>
                                <input type="text" class="form-control" id="firstName" name="firstName" required>
                                <div class="invalid-feedback">Please provide your first name.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="lastName" class="form-label fw-semibold">
                                    <i class="fas fa-user me-2 text-primary"></i>Last Name *
                                </label>
                                <input type="text" class="form-control" id="lastName" name="lastName" required>
                                <div class="invalid-feedback">Please provide your last name.</div>
                            </div>
                        </div>

                        <div class="row g-4 mt-2">
                            <div class="col-md-6">
                                <label for="email" class="form-label fw-semibold">
                                    <i class="fas fa-envelope me-2 text-primary"></i>Email Address *
                                </label>
                                <input type="email" class="form-control" id="email" name="email" required>
                                <div class="invalid-feedback">Please provide a valid email address.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="phone" class="form-label fw-semibold">
                                    <i class="fas fa-phone me-2 text-primary"></i>Phone Number
                                </label>
                                <input type="tel" class="form-control" id="phone" name="phone">
                            </div>
                        </div>

                        <div class="mt-4">
                            <label for="subject" class="form-label fw-semibold">
                                <i class="fas fa-tag me-2 text-primary"></i>Subject *
                            </label>
                            <select class="form-select" id="subject" name="subject" required>
                                <option value="">Choose a subject...</option>
                                <option value="general">General Inquiry</option>
                                <option value="order">Order Support</option>
                                <option value="return">Returns & Exchanges</option>
                                <option value="product">Product Question</option>
                                <option value="complaint">Complaint</option>
                                <option value="other">Other</option>
                            </select>
                            <div class="invalid-feedback">Please select a subject.</div>
                        </div>

                        <div class="mt-4">
                            <label for="message" class="form-label fw-semibold">
                                <i class="fas fa-comment me-2 text-primary"></i>Message *
                            </label>
                            <textarea class="form-control" id="message" name="message" rows="6" required
                                      placeholder="Please provide details about your inquiry..."></textarea>
                            <div class="invalid-feedback">Please provide your message.</div>
                        </div>

                        <div class="text-center mt-5">
                            <button type="submit" class="btn btn-submit text-white btn-lg px-5">
                                <i class="fas fa-paper-plane me-2"></i>Send Message
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="section-divider"></div>

<!-- Map Section -->
<section class="py-5" id="map-section">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Find Our Store</h2>
            <p class="lead text-muted">Visit us at our flagship location in the heart of Hoa Lac</p>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="map-container">
                    <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095343008!2d-74.00425878459418!3d40.74844097932681!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259bf5c1654f3%3A0xc80f9cfce5383d5d!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2s!4v1635959542132!5m2!1sen!2s"
                            width="100%"
                            height="450"
                            style="border:0;"
                            allowfullscreen=""
                            loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="py-5 faq-section">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Frequently Asked Questions</h2>
            <p class="lead text-muted">Quick answers to common questions</p>
        </div>
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq1">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapse1">
                                <i class="fas fa-clock me-3"></i>What are your store hours?
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Our store is open Monday through Friday from 9:00 AM to 6:00 PM EST.
                                We're closed on weekends and major holidays. Online shopping is available 24/7.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapse2">
                                <i class="fas fa-shipping-fast me-3"></i>How long does shipping take?
                            </button>
                        </h2>
                        <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Standard shipping takes 3-5 business days. Express shipping (1-2 business days)
                                and overnight shipping options are also available at checkout for additional fees.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapse3">
                                <i class="fas fa-undo me-3"></i>What is your return policy?
                            </button>
                        </h2>
                        <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                We offer a 30-day return policy for unworn items with original tags.
                                Items must be in original condition for a full refund. Return shipping is free for
                                exchanges.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapse4">
                                <i class="fas fa-globe me-3"></i>Do you offer international shipping?
                            </button>
                        </h2>
                        <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, we ship to over 25 countries worldwide. International shipping rates
                                and delivery times vary by destination. Customs fees may apply.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Toast Notification -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
    <div id="contactToast" class="toast align-items-center text-bg-success border-0" role="alert"
         aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body" th:text="${successMessage}">Your message has been sent successfully!</div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
        </div>
    </div>
</div>

<!--Chat-->
<div th:if="${currentUser != null and roleId == 2}">
    <div th:replace="fragments/chat :: chatWidget"></div>
</div>
<!-- Footer -->
<div th:replace="fragments/footer :: footer"></div>
<div th:replace="fragments/cart :: cart"></div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script src="/js/script.js"></script>

<script>
    // Form validation
    (function () {
        'use strict';
        window.addEventListener('load', function () {
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();

    // Toast notification
    window.addEventListener('DOMContentLoaded', function () {
        const toastEl = document.getElementById('contactToast');
        if (toastEl && toastEl.querySelector('.toast-body').textContent.trim() !== '') {
            const toast = new bootstrap.Toast(toastEl, {delay: 4000});
            toast.show();
        }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-up');
            }
        });
    }, observerOptions);

    // Observe elements for animation
    document.querySelectorAll('.contact-info-card, .contact-form').forEach(el => {
        observer.observe(el);
    });
</script>
</body>
</html>